"use strict";(self.webpackChunkproduct_feedback_app_code=self.webpackChunkproduct_feedback_app_code||[]).push([[992],{7992:(J,u,r)=>{r.r(u),r.d(u,{EditFeedbackComponent:()=>F});var l=r(6895),n=r(433),c=r(2743),h=r(5294),k=r(6704),g=r(9912);const m=(0,g.P1)(o=>o.feedbacks,o=>o.feedback);var Z=r(5698),y=r(319),t=r(1571),v=r(8870),T=r(4921);function w(o,U){1&o&&(t.TgZ(0,"span",23),t._uU(1," Can't be empty "),t.qZA())}function O(o,U){1&o&&(t.TgZ(0,"span",23),t._uU(1," Can't be empty "),t.qZA())}const A=function(o){return{"form__input--invalid":o}},D=function(o){return{"form__textarea--invalid":o}};let F=(()=>{class o{constructor(i,d){this.store=i,this.route=d,this.categories=["feature","uI","ux","enhancement","bug"],this.status=["in-progress","live","planned","suggestion"],this.toggleCategoryDropdown=!1,this.toggleStatusDropdown=!1}ngOnInit(){this.id=+(this.route.snapshot.paramMap.get("id")??0),this.store.dispatch(c.$Y({id:this.id})),this.sub=this.store.select(m).subscribe(i=>{this.title=i?.title??"",this.form=new n.cw({title:new n.NI(i?.title,n.kI.required),category:new n.NI(i?.category,n.kI.required),description:new n.NI(i?.description,n.kI.required),status:new n.NI(i?.status,n.kI.required)})})}onGoBack(){this.store.dispatch(h.H())}onSubmit(){this.store.dispatch(c.GM({id:this.id,feedback:this.form.value}))}onCancel(){this.store.select(m).pipe((0,Z.q)(1)).subscribe(i=>{this.form.reset({title:i?.title,category:i?.category,description:i?.description,status:i?.status})})}onDelete(){this.store.dispatch(c.qq({id:this.id}))}ngOnDestroy(){this.sub.unsubscribe()}static#t=this.\u0275fac=function(d){return new(d||o)(t.Y36(g.yh),t.Y36(v.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-feedback"]],standalone:!0,features:[t.jDz],decls:42,vars:19,consts:[[1,"section-edit-feedback","bg-grey-light-3"],[1,"edit-feedback"],["href","#",1,"go-back","edit-feedback__back",3,"click"],["src","/assets/shared/icon-arrow-left.svg","alt",""],[1,"wrapper","bg-white"],["src","/assets/shared/icon-edit-feedback.svg","alt","Create feeback icon",1,"edit-feedback__icon"],[1,"heading-1","text-grey-dark-1"],[1,"form",3,"formGroup","ngSubmit"],[1,"form__group"],["for","title",1,"form__label"],[1,"form__input-description"],["type","text","name","title","id","title","formControlName","title",1,"form__input","form__input--text",3,"ngClass"],["class","form__error-msg",4,"ngIf"],["for","category",1,"form__label"],["role","menu","id","category",3,"currOption","options","isOpen","openDropdown","changeSortOption"],["for","status",1,"form__label"],["role","menu","id","status",3,"currOption","options","isOpen","openDropdown","changeSortOption"],["for","description",1,"form__label"],["name","description","id","description","formControlName","description",1,"form__textarea",3,"ngClass"],[1,"form__btn-group"],[1,"form__btn","form__btn--left",3,"type","text","btnClick"],["type","button",1,"form__btn","form__btn--right","btn","btn--secondary",3,"click"],[1,"from__btn","form__btn--right","btn","btn--primary-1",3,"disabled"],[1,"form__error-msg"]],template:function(d,e){if(1&d&&(t.TgZ(0,"section",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return e.onGoBack()}),t._UZ(3,"img",3),t._uU(4," Go Back "),t.qZA(),t.TgZ(5,"div",4),t._UZ(6,"img",5),t.TgZ(7,"h2",6),t._uU(8),t.qZA(),t.TgZ(9,"form",7),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",8)(11,"label",9),t._uU(12,"Feedback Title"),t.qZA(),t.TgZ(13,"p",10),t._uU(14," Add a short, descriptive headline "),t.qZA(),t._UZ(15,"input",11),t.YNc(16,w,2,0,"span",12),t.qZA(),t.TgZ(17,"div",8)(18,"label",13),t._uU(19,"Category"),t.qZA(),t.TgZ(20,"p",10),t._uU(21," Choose a category for your feedback "),t.qZA(),t.TgZ(22,"app-category-dropdown",14),t.NdJ("openDropdown",function(){return e.toggleCategoryDropdown=!e.toggleCategoryDropdown})("changeSortOption",function(p){let s;return null==(s=e.form.get("category"))?null:s.setValue(p)}),t.qZA()(),t.TgZ(23,"div",8)(24,"label",15),t._uU(25,"Update Status"),t.qZA(),t.TgZ(26,"p",10),t._uU(27,"Change feedback state"),t.qZA(),t.TgZ(28,"app-category-dropdown",16),t.NdJ("openDropdown",function(){return e.toggleStatusDropdown=!e.toggleStatusDropdown})("changeSortOption",function(p){let s;return null==(s=e.form.get("status"))?null:s.setValue(p)}),t.qZA()(),t.TgZ(29,"div",8)(30,"label",17),t._uU(31,"Feedback Detail"),t.qZA(),t.TgZ(32,"p",10),t._uU(33," Include any specific comments on what should be improved, added, etc. "),t.qZA(),t._UZ(34,"textarea",18),t.YNc(35,O,2,0,"span",12),t.qZA(),t.TgZ(36,"div",19)(37,"stencil-button",20),t.NdJ("btnClick",function(){return e.onDelete()}),t.qZA(),t.TgZ(38,"button",21),t.NdJ("click",function(){return e.onCancel()}),t._uU(39," Cancel "),t.qZA(),t.TgZ(40,"button",22),t._uU(41," Add Feedback "),t.qZA()()()()()()),2&d){let a,p,s,_,f,b;t.xp6(8),t.hij("Editing '",e.title,"'"),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(6),t.Q6J("ngClass",t.VKq(15,A,null==(a=e.form.get("title"))?null:a.invalid)),t.xp6(1),t.Q6J("ngIf",null==(p=e.form.get("title"))?null:p.invalid),t.xp6(6),t.Q6J("currOption",null==(s=e.form.get("category"))?null:s.value)("options",e.categories)("isOpen",e.toggleCategoryDropdown),t.xp6(6),t.Q6J("currOption",null==(_=e.form.get("status"))?null:_.value)("options",e.status)("isOpen",e.toggleStatusDropdown),t.xp6(6),t.Q6J("ngClass",t.VKq(17,D,null==(f=e.form.get("description"))?null:f.invalid)),t.xp6(1),t.Q6J("ngIf",null==(b=e.form.get("description"))?null:b.invalid),t.xp6(2),t.Q6J("type","danger")("text","Delete"),t.xp6(3),t.Q6J("disabled",e.form.invalid)}},dependencies:[l.ez,l.mk,l.O5,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,k.v,y.S,T.N],styles:[".section-edit-feedback[_ngcontent-%COMP%]{min-height:100vh;padding:9.2rem 0}.edit-feedback[_ngcontent-%COMP%]{max-width:50rem;margin:0 auto}.edit-feedback__back[_ngcontent-%COMP%]{margin-bottom:6.8rem}.edit-feedback__icon[_ngcontent-%COMP%]{position:absolute;top:-5.2rem;transform:translateY(50%)}.edit-feedback[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:4rem}.wrapper[_ngcontent-%COMP%]{padding:5.2rem 4.2rem 4rem;position:relative;border-radius:10px}"]})}return o})()}}]);